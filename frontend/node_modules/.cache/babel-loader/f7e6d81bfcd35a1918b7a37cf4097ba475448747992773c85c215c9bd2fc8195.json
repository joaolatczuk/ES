{"ast":null,"code":"// ðŸ”¹ Listar todas as receitas visÃ­veis (ignora excluÃ­das)\nrouter.get('/', async (req, res) => {\n  try {\n    const [results] = await db.query(`\n      SELECT c.*, u.nome AS autor, GROUP_CONCAT(i.url) AS imagens\n      FROM conteudos c\n      LEFT JOIN imagens_conteudo i ON c.id = i.id_conteudo\n      LEFT JOIN usuarios u ON c.id_autor = u.id\n      WHERE c.status != 'excluida' AND c.status != 0\n      GROUP BY c.id\n      ORDER BY c.data_publicacao DESC\n    `);\n    results.forEach(r => r.imagens = r.imagens ? r.imagens.split(',') : []);\n    res.json(results);\n  } catch (err) {\n    res.status(500).json({\n      erro: err.message\n    });\n  }\n});","map":{"version":3,"names":["router","get","req","res","results","db","query","forEach","r","imagens","split","json","err","status","erro","message"],"sources":["C:/Users/JoÃ£o/Desktop/ES/frontend/src/components/Enviadas.jsx"],"sourcesContent":["// ðŸ”¹ Listar todas as receitas visÃ­veis (ignora excluÃ­das)\r\nrouter.get('/', async (req, res) => {\r\n  try {\r\n    const [results] = await db.query(`\r\n      SELECT c.*, u.nome AS autor, GROUP_CONCAT(i.url) AS imagens\r\n      FROM conteudos c\r\n      LEFT JOIN imagens_conteudo i ON c.id = i.id_conteudo\r\n      LEFT JOIN usuarios u ON c.id_autor = u.id\r\n      WHERE c.status != 'excluida' AND c.status != 0\r\n      GROUP BY c.id\r\n      ORDER BY c.data_publicacao DESC\r\n    `);\r\n    \r\n    results.forEach(r => r.imagens = r.imagens ? r.imagens.split(',') : []);\r\n    res.json(results);\r\n  } catch (err) {\r\n    res.status(500).json({ erro: err.message });\r\n  }\r\n});\r\n"],"mappings":"AAAA;AACAA,MAAM,CAACC,GAAG,CAAC,GAAG,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAClC,IAAI;IACF,MAAM,CAACC,OAAO,CAAC,GAAG,MAAMC,EAAE,CAACC,KAAK,CAAC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CAAC;IAEFF,OAAO,CAACG,OAAO,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,GAAGD,CAAC,CAACC,OAAO,GAAGD,CAAC,CAACC,OAAO,CAACC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IACvEP,GAAG,CAACQ,IAAI,CAACP,OAAO,CAAC;EACnB,CAAC,CAAC,OAAOQ,GAAG,EAAE;IACZT,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEG,IAAI,EAAEF,GAAG,CAACG;IAAQ,CAAC,CAAC;EAC7C;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}